(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{197:function(a,t,e){"use strict";e.r(t);var r=e(0),s=Object(r.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"_8-前端引用字体-font-face的若干优化方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-前端引用字体-font-face的若干优化方法","aria-hidden":"true"}},[a._v("#")]),a._v(" 8. 前端引用字体@font-face的若干优化方法")]),a._v(" "),e("h2",{attrs:{id:"_1-前-言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-前-言","aria-hidden":"true"}},[a._v("#")]),a._v(" 1 前 言")]),a._v(" "),e("h3",{attrs:{id:"_1-1-场-景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-场-景","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.1 场 景")]),a._v(" "),e("p",[a._v("我们在页面展示时，为了更好的效果，一般使用了自定义的字体 "),e("code",[a._v("@fant-face")]),a._v(" 。")]),a._v(" "),e("p",[a._v("之前在开发的时候使用了一些自定义字体，这里总结下自己寻找的的一些处理办法。")]),a._v(" "),e("p",[a._v("本文只列出了引入本地字体，网络的字体由于实践不多，这里介绍就少一些。")]),a._v(" "),e("p",[a._v("😂 献丑了 😂")]),a._v(" "),e("h2",{attrs:{id:"_2-正-文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-正-文","aria-hidden":"true"}},[a._v("#")]),a._v(" 2 正 文")]),a._v(" "),e("h3",{attrs:{id:"_2-1-本地字体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-本地字体","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1 本地字体")]),a._v(" "),e("h4",{attrs:{id:"_2-1-1-版-权"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-版-权","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1.1 版 权")]),a._v(" "),e("div",{staticClass:"language-! extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("首先一定要注意这个问题\n")])])]),e("h4",{attrs:{id:"_2-1-2-字体定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-字体定义","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1.2 字体定义")]),a._v(" "),e("p",[a._v("一般情况定义如下：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("@font-face {\n    font-family:\"Regular\";\n    src:url('../font/Regular.otf');\n}\n")])])]),e("p",[a._v("在某个我们要使用的该字体的"),e("code",[a._v("classA")]),a._v("上定义：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('.classA {\n    font-family:"Regular";\n}\n')])])]),e("h4",{attrs:{id:"_2-1-3-字体压缩"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-字体压缩","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1.3 字体压缩")]),a._v(" "),e("p",[a._v("一般的中文字体都要"),e("code",[a._v("8-10M")]),a._v("，相对于整个工程来说太巨大，这里提供自己实践过的2种压缩方法。")]),a._v(" "),e("p",[a._v("两种都需要列举出你使用过的字。")]),a._v(" "),e("h5",{attrs:{id:"_1-font-spider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-font-spider","aria-hidden":"true"}},[a._v("#")]),a._v(" 1 font-spider")]),a._v(" "),e("blockquote",[e("p",[a._v("官网：http://font-spider.org/")])]),a._v(" "),e("blockquote",[e("p",[a._v("支持 "),e("code",[a._v("gulp")]),a._v(" 构建插件")])]),a._v(" "),e("p",[a._v("我在使用时，刚开始一直没压缩成功")]),a._v(" "),e("p",[a._v("之后发现是由于自己下载的字体版本有点低")]),a._v(" "),e("p",[a._v("这里列出一个找到的字体下载网址，觉得不错：https://www.fontke.com/font/")]),a._v(" "),e("h5",{attrs:{id:"_2-fontmin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-fontmin","aria-hidden":"true"}},[a._v("#")]),a._v(" 2 Fontmin")]),a._v(" "),e("blockquote",[e("p",[a._v("官网：http://ecomfe.github.io/fontmin/")])]),a._v(" "),e("p",[a._v("这个比较方便的是有一个客户端可以操作")]),a._v(" "),e("h4",{attrs:{id:"_2-1-4-字体加载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-字体加载","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1.4 字体加载")]),a._v(" "),e("p",[a._v("虽然有压缩的功能，但必须提供出所有使用过的字体，而且我想的是我的项目中就默认一个好看的字体。")]),a._v(" "),e("p",[a._v("这样就遇到一个问题，在第一次加载的时候，浏览器就会用一些时间来加载这个字体文件。")]),a._v(" "),e("p",[a._v("而在加载完成之前，页面就会空白，也就是FOIT（Flash of Invisible Text）")]),a._v(" "),e("h5",{attrs:{id:"_1-fout"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-fout","aria-hidden":"true"}},[a._v("#")]),a._v(" 1 FOUT")]),a._v(" "),e("p",[a._v("FOUT（Flash of Unstyled Text）大意就是在字体加载完成前，浏览器会显示"),e("code",[a._v("font-family")]),a._v("的顺序字体")]),a._v(" "),e("p",[a._v("当加载完成后，才会替换成定义的字体，设置如下：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("@font-face {\n    ...\n    font-display: swap;\n    ...\n}\n")])])]),e("blockquote",[e("p",[a._v("这样的效果，就是会在页面中看到的一个字体替换的效果😂")])]),a._v(" "),e("h5",{attrs:{id:"_2-fontfaceobserver"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-fontfaceobserver","aria-hidden":"true"}},[a._v("#")]),a._v(" 2 FontFaceObserver")]),a._v(" "),e("p",[a._v("然后我想的是，有没有什么办法可以判断字体加载完成了呢？")]),a._v(" "),e("p",[a._v("安装：")]),a._v(" "),e("p",[e("code",[a._v("npm i fontfaceobserver")])]),a._v(" "),e("p",[a._v("页面中：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("// css 中 @font-face 已定义好\nimport FontFaceObserver from 'fontfaceobserver'\n\nloadfont(){\n    console.time(\"字体加载用时\")\n    var ooo = new FontFaceObserver('Regular')\n    ooo.load().then(() =>{\n        document.getElementById('index').style.fontFamily = 'Regular'\n        console.timeEnd(\"字体加载用时\")\n    })\n},\n")])])]),e("p",[a._v("同时可以加上一个"),e("code",[a._v("loading")]),a._v("的动画，这样效果就比较好了😎")]),a._v(" "),e("h3",{attrs:{id:"_2-2-网络字体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-网络字体","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.2 网络字体")]),a._v(" "),e("h4",{attrs:{id:"_2-2-1-引入"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-引入","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.2.1 引入")]),a._v(" "),e("p",[a._v("webfont：https://www.webfont.com/")]),a._v(" "),e("p",[a._v("找到的一个方式，没有实际用过，不知道效果咋样，有兴趣的可以试试。")]),a._v(" "),e("h2",{attrs:{id:"_3-后-记"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-后-记","aria-hidden":"true"}},[a._v("#")]),a._v(" 3 后 记")]),a._v(" "),e("p",[e("strong",[a._v("感谢支持。若不足之处，欢迎大家指出，共勉。")])]),a._v(" "),e("p",[e("strong",[a._v("如果觉得不错，记得 点赞，谢谢大家")]),a._v(" 😂")]),a._v(" "),e("blockquote",[e("p",[e("strong",[a._v("欢迎关注 我的：")]),a._v(" "),e("a",{attrs:{href:"https://github.com/xrkffgg",target:"_blank",rel:"noopener noreferrer"}},[a._v("【Github】"),e("OutboundLink")],1),a._v(" "),e("a",{attrs:{href:"https://juejin.im/user/59c369496fb9a00a4843a3e2",target:"_blank",rel:"noopener noreferrer"}},[a._v("【掘 金】"),e("OutboundLink")],1),a._v(" "),e("a",{attrs:{href:"https://www.jianshu.com/u/4ca4daac5890",target:"_blank",rel:"noopener noreferrer"}},[a._v("【简 书】"),e("OutboundLink")],1)])])])},[],!1,null,null,null);t.default=s.exports}}]);