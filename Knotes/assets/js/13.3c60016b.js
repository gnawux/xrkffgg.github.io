(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{192:function(e,t,n){"use strict";n.r(t);var a=n(0),r=Object(a.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"_6-vue全家桶-echarts-百度地图，搭建数据可视化系统"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-vue全家桶-echarts-百度地图，搭建数据可视化系统","aria-hidden":"true"}},[e._v("#")]),e._v(" 6. vue全家桶+Echarts+百度地图，搭建数据可视化系统")]),e._v(" "),n("blockquote",[n("center",[n("font",{attrs:{color:"red",size:"5"}},[e._v("本文章篇幅略长，内容有点多")])],1),e._v(" "),n("center",[n("font",{attrs:{color:"red",size:"5"}},[e._v("大佬可根据目录选择性查阅")])],1),e._v(" "),n("center",[n("font",{attrs:{color:"red",size:"5"}},[e._v("新人可一步步来阅读")])],1)],1),e._v(" "),n("h2",{attrs:{id:"_1-前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言","aria-hidden":"true"}},[e._v("#")]),e._v(" 1 前言")]),e._v(" "),n("h3",{attrs:{id:"_1-1-业务场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-业务场景","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.1 业务场景")]),e._v(" "),n("p",[e._v("突然接到产品说要做一个数据监控的系统。有线图、柱状图、地图，类似于数据可视化的方式。")]),e._v(" "),n("p",[e._v("本人之前从未接触过"),n("code",[e._v("Echarts")]),e._v("，然后需要2周拿出成果，有点慌😂😂")]),e._v(" "),n("h3",{attrs:{id:"_1-2-业务分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-业务分析","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.2 业务分析")]),e._v(" "),n("p",[e._v("拿到需求看了一下")]),e._v(" "),n("p",[e._v("支持用户名、密码登录，默认显示一个维度数据，然后点击可钻取进入第二维度数据，再点击进入第三维度数据展示。")]),e._v(" "),n("p",[e._v("大致估摸着。。。")]),e._v(" "),n("blockquote",[n("ol",[n("li",[e._v("系统搭建"),n("code",[e._v("vue-cli")])]),e._v(" "),n("li",[n("code",[e._v("vuex")]),e._v("记录登录信息")]),e._v(" "),n("li",[n("code",[e._v("vue-router")]),e._v("路由跳转")]),e._v(" "),n("li",[e._v("3个维度的页面，提取出共用的组件")]),e._v(" "),n("li",[e._v("各个组件开发")]),e._v(" "),n("li",[e._v("调节样式，增加UI")]),e._v(" "),n("li",[e._v("加入后台接口数据")]),e._v(" "),n("li",[e._v("优化显示")]),e._v(" "),n("li",[e._v("测试")]),e._v(" "),n("li",[e._v("上线")])])]),e._v(" "),n("p",[e._v("当然这不是要2周内，全做完。应该是完成步骤6。")]),e._v(" "),n("p",[e._v("相对于公司就我一个前端，没接触过"),n("code",[e._v("Echarts")]),e._v("，有问题都没人讨论的情况下。。。")]),e._v(" "),n("p",[e._v("心里还是忍不住想吐槽一下😒😒😒")]),e._v(" "),n("h3",{attrs:{id:"_1-3-效果展示"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-效果展示","aria-hidden":"true"}},[e._v("#")]),e._v(" 1.3 效果展示")]),e._v(" "),n("p",[e._v("这里列出了第一维度页面的样式。文字请无视，哈哈。")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-1.png?raw=true",alt:""}})]),e._v(" "),n("h2",{attrs:{id:"_2-系统安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-系统安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 2 系统安装")]),e._v(" "),n("blockquote",[n("p",[e._v("吐槽归吐槽，活还是要干的。😎")])]),e._v(" "),n("p",[e._v("因为本人最熟悉的还是vue，所以还是选择了用vue全家桶来做。这部分可参考 "),n("a",{attrs:{href:"https://github.com/xrkffgg/Tools/blob/master/project/vue/001.build.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue build"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"_2-1-安装node环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-安装node环境","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.1 安装node环境")]),e._v(" "),n("ul",[n("li",[e._v("下载安装"),n("code",[e._v("node")]),e._v("环境，直接去官网下载即可 "),n("a",{attrs:{href:"http://nodejs.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("node.js"),n("OutboundLink")],1)])]),e._v(" "),n("blockquote",[n("p",[e._v("安装完后可在命令行运行"),n("code",[e._v("node -v")]),e._v(" "),n("code",[e._v("npm -v")]),e._v(" 查看是否安装成功以及版本")])]),e._v(" "),n("h3",{attrs:{id:"_2-2-安装vue项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-安装vue项目","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2 安装Vue项目")]),e._v(" "),n("h4",{attrs:{id:"_2-2-1-安装vue"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-安装vue","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.1 安装vue")]),e._v(" "),n("p",[e._v("官方文档："),n("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuejs"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("这里我们使用"),n("code",[e._v("npm")]),e._v("的方式")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("npm i vue")])])]),e._v(" "),n("h4",{attrs:{id:"_2-2-2-安装vue-cli"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-安装vue-cli","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.2 安装Vue CLI")]),e._v(" "),n("p",[e._v("官方文档："),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue CLI"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("npm i -g @vue/cli")])])]),e._v(" "),n("blockquote",[n("p",[e._v("安装之后，你就可以在命令行中访问 vue 命令。你可以用这个命令来查看其版本。"),n("code",[e._v("vue -V")])])]),e._v(" "),n("h4",{attrs:{id:"_2-2-3-创建项目"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-创建项目","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.3 创建项目")]),e._v(" "),n("p",[e._v("这里安装的时候，注意将我们要使用的安装上。"),n("code",[e._v("vuex")]),e._v("、"),n("code",[e._v("vue-router")]),e._v("，其他可根据需要添加。")]),e._v(" "),n("ol",[n("li",[n("strong",[e._v("方法一")])])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("vue create hello-world")])])]),e._v(" "),n("blockquote",[n("p",[e._v("这里参照官方网站，有很详细的介绍。参照："),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue create"),n("OutboundLink")],1)])]),e._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("strong",[e._v("方法二")])])]),e._v(" "),n("p",[e._v("使用图形化界面")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("vue ui")])])]),e._v(" "),n("blockquote",[n("p",[e._v("界面含中文，很好操作。参照："),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/creating-a-project.html#%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%95%8C%E9%9D%A2",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue ui"),n("OutboundLink")],1)])]),e._v(" "),n("h4",{attrs:{id:"_2-2-4-安装插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-4-安装插件","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.2.4 安装插件")]),e._v(" "),n("ol",[n("li",[n("strong",[e._v("方法一")])])]),e._v(" "),n("p",[e._v("最直接也是推荐的 "),n("code",[e._v("npm i xxx")])]),e._v(" "),n("p",[e._v("这里介绍一下 "),n("code",[e._v("-S -D -g")]),e._v(" 的区别")]),e._v(" "),n("blockquote",[n("ul",[n("li",[e._v("npm i -S xxx 文件写入dependencies，用于工程中开发时使用到的插件，会发布到生产环境如UI，JS等。")]),e._v(" "),n("li",[e._v("npm i -D xxx 文件写入devDependencies，用于工程支持类插件，不会发布到生产环境，如gulp等压缩打包工具。")]),e._v(" "),n("li",[e._v("npm i -g xxx 全局安装，如vue、ncu等。安装目录为：C:\\Users\\用户\\AppData\\Roaming\\npm")])])]),e._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[n("strong",[e._v("方法二")])])]),e._v(" "),n("p",[n("code",[e._v("vue ui")]),e._v("图像化界面中包含了若干插件，可点击安装，但不一定是最新版本。")]),e._v(" "),n("p",[e._v("同时会在hello中引入。其他和方法一没区别。")]),e._v(" "),n("h3",{attrs:{id:"_2-3-安装echarts"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-安装echarts","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.3 安装Echarts")]),e._v(" "),n("blockquote",[n("p",[e._v("这里我们为了方便，使用了"),n("code",[e._v("npm")]),e._v("全量引用，后期为了精简项目可单个引用。")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("npm i echarts -S")])])]),e._v(" "),n("p",[e._v("然后在"),n("code",[e._v("main.js")]),e._v("中添加")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-2.png?raw=true",alt:""}})]),e._v(" "),n("p",[e._v("这里建议提前自定义"),n("code",[e._v("echarts")]),e._v("的样式，并引入到项目中。官方自定义地址："),n("a",{attrs:{href:"https://echarts.baidu.com/theme-builder/",target:"_blank",rel:"noopener noreferrer"}},[e._v("theme-builder"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("在页面中我们可以如下引用：\n"),n("code",[e._v("var myChart = this.$echarts.init(document.getElementById(\"myid\"),'temp')")])]),e._v(" "),n("p",[n("code",[e._v("myid")]),e._v("是我们要展示的"),n("code",[e._v("echarts")]),e._v("的"),n("code",[e._v("id")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("temp")]),e._v("是我们的自定义的样式，同时官方提供了几个样式例子，可以"),n("code",[e._v("node_modules\\echarts\\theme")]),e._v("中找到。")]),e._v(" "),n("h3",{attrs:{id:"_2-4-安装element-ui"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-安装element-ui","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.4 安装element-ui")]),e._v(" "),n("blockquote",[n("p",[e._v("这里我们为了方便，使用了"),n("code",[e._v("npm")]),e._v("全量引用，后期为了精简项目可单个引用。")])]),e._v(" "),n("ul",[n("li",[n("code",[e._v("npm i element-ui -S")])])]),e._v(" "),n("p",[e._v("然后在"),n("code",[e._v("main.js")]),e._v("中添加")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-3.png?raw=true",alt:""}})]),e._v(" "),n("h3",{attrs:{id:"_2-5-安装百度地图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-安装百度地图","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.5 安装百度地图")]),e._v(" "),n("p",[e._v("一般vue使用百度地图有2种方式，")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("一种是像官网那样去应用。如："),n("a",{attrs:{href:"http://lbsyun.baidu.com/index.php?title=jspopular3.0/guide/helloworld",target:"_blank",rel:"noopener noreferrer"}},[e._v("BMap"),n("OutboundLink")],1)])]),e._v(" "),n("li",[n("p",[e._v("第二种是使用 "),n("code",[e._v("vue-baidu-map")])])])]),e._v(" "),n("p",[e._v("不管是哪一种都要去申请账号和密钥。申请地址为："),n("a",{attrs:{href:"http://lbsyun.baidu.com/index.php?title=jspopular3.0/guide/getkey",target:"_blank",rel:"noopener noreferrer"}},[e._v("百度地图密钥(ak)"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("这里我使用了第二种。"),n("a",{attrs:{href:"https://dafrok.github.io/vue-baidu-map/#/zh/index",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-baidu-map文档"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("npm i vue-baidu-map -S")])])]),e._v(" "),n("p",[e._v("然后在"),n("code",[e._v("main.js")]),e._v("中添加")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-4.png?raw=true",alt:""}})]),e._v(" "),n("p",[n("code",[e._v("xxxxxxxx")]),e._v("这里填写自己申请的密钥。")]),e._v(" "),n("p",[e._v("在页面中，参照文档，可使用标签"),n("code",[e._v("<baidu-map/>")]),e._v("来调用。")]),e._v(" "),n("h3",{attrs:{id:"_2-6-初始化样式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-初始化样式","aria-hidden":"true"}},[e._v("#")]),e._v(" 2.6 初始化样式")]),e._v(" "),n("p",[n("code",[e._v("css")]),e._v("样式初始化，简单来说就是为了各个浏览器能统一什么的。")]),e._v(" "),n("p",[e._v("这里我使用的是 "),n("a",{attrs:{href:"https://github.com/necolas/normalize.css/",target:"_blank",rel:"noopener noreferrer"}},[e._v("normalize.css"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("下载下来后，在"),n("code",[e._v("main.js")]),e._v("中添加")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-5.png?raw=true",alt:""}})]),e._v(" "),n("p",[e._v("基本上的准备工作都做好了，接下来就是具体的代码了。")]),e._v(" "),n("h2",{attrs:{id:"_3-项目搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-项目搭建","aria-hidden":"true"}},[e._v("#")]),e._v(" 3 项目搭建")]),e._v(" "),n("h3",{attrs:{id:"_3-1-router、vuex"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-router、vuex","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.1 router、vuex")]),e._v(" "),n("p",[e._v("我这里新建了一个"),n("code",[e._v("router.js")]),e._v("、"),n("code",[e._v("store.js")]),e._v("，大致如下：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-6.png?raw=true",alt:""}})]),e._v(" "),n("p",[e._v("哦哈，这里路由定义是为了方便看哈，具体还是根据业务来定义。")]),e._v(" "),n("p",[e._v("这里的"),n("code",[e._v("router.beforeEach")]),e._v(" 路由卫士用于是否登录校验。")]),e._v(" "),n("p",[e._v("然后我们在"),n("code",[e._v("main.js")]),e._v("中来引用。")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-7.png?raw=true",alt:""}})]),e._v(" "),n("p",[e._v("更多请参考官方文档："),n("a",{attrs:{href:"https://router.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Router"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://vuex.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vuex"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"_3-2-login页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-login页面","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.2 Login页面")]),e._v(" "),n("p",[e._v("登录页面没啥，就是个form提交，由于路由中判断"),n("code",[e._v("user.id")]),e._v("。所以我们储存一下，然后跳转到Index页面就行。")]),e._v(" "),n("p",[e._v("这里只是一种方式，也可以使用"),n("code",[e._v("Cookie")]),e._v("和"),n("code",[e._v("Session")])]),e._v(" "),n("h3",{attrs:{id:"_3-3-index页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-index页面","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.3 Index页面")]),e._v(" "),n("p",[e._v("分析页面分成了2个大部分")]),e._v(" "),n("ul",[n("li",[e._v("第一部分是 "),n("strong",[e._v("头部")])]),e._v(" "),n("li",[e._v("第二部门是 "),n("strong",[e._v("主体")])])]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-8.png?raw=true",alt:""}})]),e._v(" "),n("p",[e._v("我们将头部当做一个组件进行复用。")]),e._v(" "),n("p",[e._v("组件的复用可参考官方文档：https://cn.vuejs.org/v2/guide/components.html")]),e._v(" "),n("h3",{attrs:{id:"_3-4-header页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-header页面","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.4 header页面")]),e._v(" "),n("p",[e._v("头部比较简单，除了一些显示外，还有一个显示当前时间。")]),e._v(" "),n("p",[e._v("这里我们使用了"),n("code",[e._v("setInterval")]),e._v("，每隔1秒去获取一下当前时间赋值给你定义的"),n("code",[e._v("v-model")]),e._v("就行。")]),e._v(" "),n("p",[e._v("同时在离开页面时，我们清理掉定时器。")]),e._v(" "),n("p",[e._v("这里需要我们对"),n("code",[e._v("Vue")]),e._v("的"),n("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/instance.html#%E5%AE%9E%E4%BE%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90",target:"_blank",rel:"noopener noreferrer"}},[e._v("生命周期"),n("OutboundLink")],1),e._v("有一定的了解。")]),e._v(" "),n("p",[e._v("获取当前时间的方法可参考："),n("a",{attrs:{href:"https://github.com/xrkffgg/Tools/blob/master/JS/001.Date/date-module.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("data-module.js"),n("OutboundLink")],1)]),e._v(" "),n("h3",{attrs:{id:"_3-5-主体页面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-主体页面","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5 主体页面")]),e._v(" "),n("p",[e._v("这里分析一下页面，主要分成了3块。")]),e._v(" "),n("ol",[n("li",[n("strong",[e._v("左边")]),e._v("，包含了2个折线图。")]),e._v(" "),n("li",[n("strong",[e._v("中间")]),e._v("，包含了数字和地图。")]),e._v(" "),n("li",[n("strong",[e._v("右边")]),e._v("，包含了柱状图和表格。")])]),e._v(" "),n("blockquote",[n("p",[e._v("接下来主要介绍一下，自己这2周摸索出来的一些"),n("code",[e._v("Echarts")]),e._v("配置，适合新手，大佬轻喷。")])]),e._v(" "),n("blockquote",[n("p",[e._v("这里需要经常翻阅 "),n("a",{attrs:{href:"https://www.echartsjs.com/option.html#title",target:"_blank",rel:"noopener noreferrer"}},[n("strong",[e._v("Echarts配置项")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"https://www.echartsjs.com/api.html#echarts",target:"_blank",rel:"noopener noreferrer"}},[n("strong",[e._v("API")]),n("OutboundLink")],1),e._v(" 了")])]),e._v(" "),n("h4",{attrs:{id:"_3-5-1-echarts基本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-echarts基本","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.1 Echarts基本")]),e._v(" "),n("p",[e._v("这里列出基本的渲染写法，具体的图形和数据只要修改"),n("code",[e._v("option")]),e._v("就可以了。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n    <div id="myecharts" class="myecharts">\n</template>\n\n<script>\n    export default {\n        mounted(){\n            this.drawECharts()\n        },\n        \n        methods:{\n            drawECharts(){\n                // temp 是我们的自定义样式，上面安装Echarts时有介绍\n                var myChart = this.$echarts.init(document.getElementById("myecharts"),\'temp\')\n                var option = {}\n                option = {\n                    // 吧啦吧啦 一堆配置\n                }\n                // 执行渲染图形和数据的操作\n                if (option && typeof option === "object") {\n                    myChart.setOption(option, true)\n                }\n            }\n        }\n    }\n<\/script>\n\n<style>\n    //  一定要设置大小，不然不出来，这玩意和canvas一样\n    .myecharts{\n        width : 500px;\n        height : 300px;\n    }\n</style>\n')])])]),n("h4",{attrs:{id:"_3-5-2-线形图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-线形图","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.2 线形图")]),e._v(" "),n("p",[e._v("多多实践，就会发现每个配置和其参数的作用了。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("option = {\n    // 提示框（就是鼠标放上去后出现的框）\n    tooltip : {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n            label: {\n                backgroundColor: '#6a7985'\n            }\n        }\n    },\n    \n    //  右上角的组件，用于说明，也可进行点击筛选\n    legend: {\n        align : 'right',\n        x : 'right',\n        top : 25,\n        selectedMode : 'single',    //  我这里设置的单选模式\n        data:['好','坏']            //  显示的第一项和第二项，这里的颜色是根据自定义主题的颜色顺序来定的\n    },\n    \n    //  x、y轴显示一些设置，比如刻度颜色显示什么的，可在自定义主题设置一部分\n    xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    // 具体配置项，根据具体项目查看官网配置项说明\n    series: [\n        {\n            name : '好',\n            data: [150, 132, 201, 534, 290, 530, 820],\n            type: 'line',\n            smooth: true,   //  是否平滑曲线\n            areaStyle: {},\n        },\n        { \n            name : '坏',\n            data: [82, 93, 90, 93, 129, 333, 432],\n            type: 'line',\n            smooth: true,\n            areaStyle: {},\n        }\n    ]\n}\n\n// 查看Echarts的API，我们需要显示默认的一些数据，配置如下\n// 默认显示坏的数据\nmyChart.dispatchAction({\n    type: 'legendSelect',\n    name: '坏',\n})\n//  默认显示第7个数据\nmyChart.dispatchAction({\n    type: 'showTip',\n    seriesIndex: 1,\n    dataIndex: 6,\n})\n")])])]),n("p",[e._v("预览：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-9.png?raw=true",alt:""}})]),e._v(" "),n("h4",{attrs:{id:"_3-5-3-柱状图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-3-柱状图","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.3 柱状图")]),e._v(" "),n("p",[e._v("这里我们直接用双柱状图来演示。")]),e._v(" "),n("p",[e._v("因为名字和数字需要提示和点击的功能，所以没有使用"),n("code",[e._v("echarts")]),e._v("的"),n("code",[e._v("y")]),e._v("轴。")]),e._v(" "),n("p",[e._v("不然"),n("code",[e._v("formatter")]),e._v("又要写一堆，虽然用了自定义的，但最开始是用的"),n("code",[e._v("formatter")]),e._v("。")]),e._v(" "),n("p",[e._v("可以实现相同展示，但无法操作，如鼠标提示和鼠标点击。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<div class="left">\n    <div v-for="it in its1" :key="it.id">\n        <el-tooltip class="item"  effect="light" placement="bottom-start">\n            <div slot="content">名称：{{it.name}}<br/>个数：{{it.num}}</div>\n            <div class="name" @click="go"> {{ it.name.substring(0,4)+\'...\' }}</div>\n        </el-tooltip>\n        <div class="num">{{ it.num }}</div>\n    </div>\n</div>\n\n<div class="right">\n    <div v-for="it in its2" :key="it.id">\n        <el-tooltip class="item"  effect="light" placement="bottom-start">\n            <div slot="content">名称：{{it.name}}<br/>个数：{{it.num}}</div>\n            <div class="name" @click="go"> {{ it.name.substring(0,4)+\'...\' }}</div>\n        </el-tooltip>\n        <div class="num">{{ it.num }}</div>\n    </div>\n</div>\n\n<div id="myecharts" class="myecharts">\n')])])]),n("p",[n("code",[e._v("css")]),e._v("这里就不贴了，效果就是这2行文字刚好贴在2行柱状图前面。")]),e._v(" "),n("p",[e._v("接下来是"),n("code",[e._v("echarts")]),e._v("配置。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("option = {\n    // 鼠标提示框\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    \n    // 右边显示\n    legend: {\n        selectedMode:false,\n        data: ['好', '坏'],\n        top:5,\n        right:8,\n    },\n    \n    // 两个图坐标的位置\n    grid: [\n        {left: '16%', top:'10%', width: '22%', height: '86%'},\n        {left: '65%', top:'10%', width: '22%', height: '86%'}\n    ],\n    \n    // 两个图x轴的设置，这里的gridIndex就是个序号，用于区分\n    xAxis: [\n        {gridIndex : 0, show : false},\n        {gridIndex : 1, show : false},\n    ],\n    \n    // 两个图y轴的设置，注释的部分是用echarts本身的y轴来显示名称和数量的\n    yAxis: [\n        {\n            gridIndex: 0,\n            type: 'category',\n            show : false,\n            data : ['广东/12','杭州/13','北京北京/14','天津/16'],\n            // axisLabel: {\n            //   formatter : function(value){\n            //     let arr = value.split('/')\n            //     return '{a|'+arr[0]+'}\\n{b|'+ arr[1]+'}';\n            //   },\n            //   rich: {\n            //     a: {\n            //       color : '#ffffff',\n            //       lineHeight : 19,\n            //       fontSize : 14,\n            //       align: 'right',\n            //     },\n            //     b:{\n            //       fontSize : 18,\n            //       lineHeight : 19,\n            //       fontWeight : 'bold',\n            //       align: 'right',\n            //       fontFamily : 'Digital',\n            //     }\n            //   }\n            // }\n        },\n        {\n            gridIndex: 1,\n            show : false,\n            type: 'category',\n            data : ['海南/12','三亚/13','哈尔滨/14','西双版纳/16'],\n            // axisLabel: {\n            //   formatter : function(value){\n            //     let arr = value.split('/')\n            //     return '{a|'+arr[0]+'}\\n{b|'+ arr[1]+'}';\n            //   },\n            //   rich: {\n            //     a: {\n            //       color : '#ffffff',\n            //       lineHeight : 19,\n            //       fontSize : 14,\n            //       align: 'right',\n            //     },\n            //     b:{\n            //       fontSize : 18,\n            //       lineHeight : 19,\n            //       fontWeight : 'bold',\n            //       align: 'right',\n            //       fontFamily : 'Digital',\n            //     }\n            //   }\n            // }\n        },\n    ],\n    \n    //  渲染图形和数据，bar是柱状图\n    //  barWidth 柱状的宽度\n    //  两类两套，所以有4组数据，使用xAxisIndex、yAxisIndex来区分。\n    series: [\n        {\n            name: '好',\n            type: 'bar',\n            barWidth  : 5,\n            barMinHeight : 5,\n            barGap : '100%',\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            data: [0, 3489, 9022234, 922228],\n            label: {\n                normal: {\n                    position: 'right',\n                    show: true\n                }\n            },\n        },\n        \n        {\n            name: '坏',\n            type: 'bar',\n            barWidth  : 5,\n            barMinHeight : 5,\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            data: [0, 2438, 3300, 1594],\n            label: {\n                normal: {\n                    position: 'right',\n                    show: true\n                }\n             },\n        },\n        {\n            name: '好',\n            type: 'bar',\n            barWidth  : 5,\n            barMinHeight : 10,\n            barGap : '100%',\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            data: [8203, 3489, 9034, 222],\n            label: {\n                normal: {\n                    position: 'right',\n                    show: true\n                }\n            },\n        },\n        {\n            name: '坏',\n            type: 'bar',\n            barWidth  : 5,\n            barMinHeight : 5,\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            data: [445, 2438, 3300, 555],\n            label: {\n                normal: {\n                    position: 'right',\n                    show: true\n                }\n            },\n        },\n    ]\n}\n")])])]),n("p",[e._v("预览：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-10.png?raw=true",alt:""}})]),e._v(" "),n("h4",{attrs:{id:"_3-5-4-表格"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-4-表格","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.4 表格")]),e._v(" "),n("p",[n("code",[e._v("table")]),e._v("我这里使用了"),n("code",[e._v("element-ui")]),e._v("加上修改 UI 默认"),n("code",[e._v("css")]),e._v(" 和 滚动条的 "),n("code",[e._v("css")]),e._v("。")]),e._v(" "),n("p",[e._v("这里列出一项，其他写法相似。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<el-table\n    :data="tableData"\n    height="252"\n    style="min-width: 100%;">\n    <el-table-column\n        prop="date"\n        min-width="12"\n        header-align="center"\n        label="时间">\n        <template slot-scope="scope">\n            <template v-if="scope.row.if == \'1\'">\n                <img src="../../assets/img/new.png"/>\n                <div style="color:#E63136;margin-top:-27px;margin-left:35px;">\n                    {{scope.row.date}}\n                </div>\n            </template>\n            <template v-else>\n                <div style="margin-left:35px;">\n                    {{ scope.row.date }}\n                </div>\n            </template>\n        </template>\n    </el-table-column>\n</el-table>\n')])])]),n("ul",[n("li",[e._v("UI 样式")])]),e._v(" "),n("p",[e._v("UI "),n("code",[e._v("css")]),e._v("的修改，这里我使用了自定义字体哦，完全copy是不起作用的。")]),e._v(" "),n("p",[e._v("其他的设置项不做说明，F12打开，随便玩。")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v(".el-table thead {\n    color: #FFFFFF;\n}\n\n.el-table {\n    color: #00A5F6;\n    font-family: 'Regular';\n    background-color: rgba(0, 0, 0, 0.03);\n    th {\n        padding: 2px 0;\n        background-color: #003260; \n    }\n    th.is-leaf {\n        border-bottom: 0px solid #EBEEF5;\n    }\n    tr {\n        background-color: rgba(0, 0, 0, 0.03);\n    }\n    td {\n        border-bottom: 1px solid #2c3547;\n        padding: 2px 0;\n    }\n    \n    .el-table::before {\n        height: 0px;\n        z-index: 0;\n        background-color: #2c3547;\n    }\n}\n")])])]),n("ul",[n("li",[e._v("滚动条的样式")])]),e._v(" "),n("p",[e._v("随意改变看看效果就懂了，谷歌浏览器 😅")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("/* scrollbar */\n\n::-webkit-scrollbar {\n  width: 8px;\n  height: 1px;\n  background-color:transparent;\n}\n::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background: #adabab;\n}\n::-webkit-scrollbar-track {\n  border-radius: 10px;\n  background:#394d63;\n}\n")])])]),n("p",[e._v("预览：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-11.png?raw=true",alt:""}})]),e._v(" "),n("h4",{attrs:{id:"_3-5-5-百度地图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-5-百度地图","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.5 百度地图")]),e._v(" "),n("blockquote",[n("p",[e._v("vue-baidu-map "),n("a",{attrs:{href:"https://dafrok.github.io/vue-baidu-map/#/zh/index",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档"),n("OutboundLink")],1)])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<baidu-map \n    :center="map.center"        //  地图中心经纬 {lng: 114.023598, lat: 33.589299}\n    :scroll-wheel-zoom="true"   //  地图是否滚轮缩放\n    :zoom="map.zoom"            //  默认地图尺寸\n    :mapStyle="mapStyle"        //  地图样式\n    class="baidumap">           //  地图宽高\n    <template v-for="(it,index) in ms">     //  标点\n        <bm-marker \n            :key="it.id" \n            :position="it.position"         //  标点位置\n            @click="markclick(it,index)"    //  标点点击事件\n            @mouseover="markover(it,index)" //  鼠标移动到标点上的事件\n            :icon="it.if? iocn:newincon"    //  标点的样式\n            @mouseout="markout(it,index)">  //  鼠标从标点移走的事件\n            <bm-info-window\n                :show="it.show"             //  标点提示框的显示true/false\n                :position="it.position">    //  提示框坐标\n                <p v-text="it.mess"></p>    //  提示框内容\n            </bm-info-window>\n        </bm-marker>\n    </template>\n</baidu-map>\n')])])]),n("p",[e._v("预览：\n"),n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-12.png?raw=true",alt:""}})]),e._v(" "),n("h4",{attrs:{id:"_3-5-6-矢量地图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-6-矢量地图","aria-hidden":"true"}},[e._v("#")]),e._v(" 3.5.6 矢量地图")]),e._v(" "),n("p",[e._v("Echarts矢量地图的类型有")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("type:'scatter'")]),e._v(" 散点气泡图，可在地图中显示不用颜色程度的点")]),e._v(" "),n("li",[n("code",[e._v("type:'effectScatter'")]),e._v(" 有涟漪特效动画的散点图")]),e._v(" "),n("li",[n("code",[e._v("type:'map'")]),e._v(" 地理区域的数据可视化")]),e._v(" "),n("li",[n("code",[e._v("type:'lines'")]),e._v(" 地图航线、路线的可视化")])]),e._v(" "),n("p",[e._v("引入地图")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("require('echarts/map/js/china.js')\nrequire('echarts/map/js/province/beijing.js')\n")])])]),n("p",[e._v("这里我有问题，我要引入全国的省份，就要多写30多个"),n("code",[e._v("require")]),e._v("，有没有大佬能给出更好的办法？")]),e._v(" "),n("p",[n("strong",[e._v("找到一个全量引用的方法")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const rjs = require.context('echarts/map/js/province')\nrjs.keys().forEach(rjs)\n")])])]),n("p",[e._v("可以替代")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("require('echarts/map/js/province/beijing.js')\nrequire('echarts/map/js/province/shanxi.js')\nrequire('echarts/map/js/province/neimenggu.js')\n等等等。。。\n")])])]),n("p",[e._v("地图配置：")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("option = {\n    //  鼠标提示\n    tooltip : {\n        trigger: 'item',\n        formatter : function(params){\n            var val = params.data\n            return '名称：'+val.name+'，个数：'+val.value[2]+'<br/>'+'总数：'+val.tol+'，个数：'+val.un\n        },\n    },\n    \n    //  不同颜色的点\n    visualMap: [\n        {\n            min: 0,\n            max: 1,\n            show : false,\n            inRange: {\n                color: ['#01cae2', '#e63136',]\n            },\n            dimension : 3,\n        },\n    ],\n\n    // 地图样式\n    geo: {\n        map: 'china',   // 地图样式，当为‘北京’时，会显示北京地图   \n        roam : true,    \n        label: {\n            emphasis: {\n                show: true\n            }\n        },\n        zoom : 1.2,     //  初始大小\n        scaleLimit : {\n            min : 1.2,  //  最小缩放\n            max : 6     //  最大缩放\n        },\n        regions : regions(data)     // 省份样式方法\n    },\n\n    series : [\n        {\n            name: '分布',\n            type: 'scatter',\n            coordinateSystem: 'geo',    //  地图配置\n            data: convertData(data.sort(function (a, b) {   //  数据方法\n                return b.value - a.value;\n            })),\n            encode: {\n                value : 2\n            },\n            hoverAnimation: true,\n            itemStyle: {\n                normal: {\n                    // color: '#FF3030',\n                    shadowBlur: 1,\n                }\n            },\n        }\n    ]\n};\n")])])]),n("p",[e._v("当点击省份地图时，我们可以进入省份地图的矢量图")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("myChart.on('click',function(params){\n    option.geo.map =  '北京'\n    myChart.setOption(option, true);\n})\n")])])]),n("p",[e._v("预览：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-13.png?raw=true",alt:""}})]),e._v(" "),n("hr"),e._v(" "),n("p",[n("img",{attrs:{src:"https://github.com/xrkffgg/Kimg/blob/master/blog/06-14.png?raw=true",alt:""}})]),e._v(" "),n("h2",{attrs:{id:"_4-后记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-后记","aria-hidden":"true"}},[e._v("#")]),e._v(" 4 后记")]),e._v(" "),n("p",[e._v("目前还没有接入后端数据，就是全前台的一个展示。很多都是全量引入，后续待成熟后，可慢慢精简。")]),e._v(" "),n("p",[e._v("总结一下："),n("strong",[e._v("Vue入门")]),e._v(" + "),n("strong",[e._v("Echarts入门")]),e._v(" ，希望能对你有用！！！😜😜😜")]),e._v(" "),n("p",[n("strong",[e._v("感谢支持。若不足之处，欢迎大家指出，共勉。")])]),e._v(" "),n("p",[n("strong",[e._v("如果觉得不错，记得 点赞，谢谢大家")]),e._v(" 😂")]),e._v(" "),n("blockquote",[n("p",[n("strong",[e._v("欢迎关注 我的：")]),e._v(" "),n("a",{attrs:{href:"https://github.com/xrkffgg/Tools",target:"_blank",rel:"noopener noreferrer"}},[e._v("【Github】"),n("OutboundLink")],1),n("a",{attrs:{href:"https://juejin.im/user/59c369496fb9a00a4843a3e2/posts",target:"_blank",rel:"noopener noreferrer"}},[e._v("【掘金】"),n("OutboundLink")],1),n("a",{attrs:{href:"https://www.jianshu.com/u/4ca4daac5890",target:"_blank",rel:"noopener noreferrer"}},[e._v("【简书】"),n("OutboundLink")],1),n("a",{attrs:{href:"https://blog.csdn.net/xrk_ffgg",target:"_blank",rel:"noopener noreferrer"}},[e._v("【CSDN】"),n("OutboundLink")],1),n("a",{attrs:{href:"https://my.oschina.net/xrkffgg",target:"_blank",rel:"noopener noreferrer"}},[e._v("【OSCHINA】"),n("OutboundLink")],1),n("a",{attrs:{href:"https://segmentfault.com/u/xrkffgg/articles",target:"_blank",rel:"noopener noreferrer"}},[e._v("【SF】"),n("OutboundLink")],1)])])])},[],!1,null,null,null);t.default=r.exports}}]);